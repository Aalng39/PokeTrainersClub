"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[800],{9800:(Cu,wi,x)=>{x.r(wi);var o=x(5861),Ve=x(3942),l=x(2090),M=x(9681),ir=x(1877),We=x(655),ze=x(4859);const re={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$_EMAIL_SIGNIN="EMAIL_SIGNIN",$_PASSWORD_RESET="PASSWORD_RESET",$_RECOVER_EMAIL="RECOVER_EMAIL",$_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",$_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",$_VERIFY_EMAIL="VERIFY_EMAIL";const Ci=function Oi(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Li=function sr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},or=new l.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ar=new ir.Yd("@firebase/auth");function Te(n,...e){ar.logLevel<=ir.in.ERROR&&ar.error(`Auth (${M.SDK_VERSION}): ${n}`,...e)}function I(n,...e){throw He(n,...e)}function T(n,...e){return He(n,...e)}function ur(n,e,t){const r=Object.assign(Object.assign({},Li()),{[e]:t});return new l.LL("auth","Firebase",r).create(e,{appName:n.name})}function B(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&I(n,"argument-error"),ur(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return or.create(n,...e)}function c(n,e,...t){if(!n)throw He(e,...t)}function b(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Te(e),new Error(e)}function S(n,e){n||b(e)}const lr=new Map;function R(n){S(n instanceof Function,"Expected a class definition");let e=lr.get(n);return e?(S(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,lr.set(n,e),e)}function ie(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Ge(){return"http:"===cr()||"https:"===cr()}function cr(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class se{constructor(e,t){this.shortDelay=e,this.longDelay=t,S(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,l.uI)()||(0,l.b$)()}get(){return function Mi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ge()||(0,l.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qe(n,e){S(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class dr{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Zi=new se(3e4,6e4);function m(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function _(n,e,t,r){return $e.apply(this,arguments)}function $e(){return($e=(0,o.Z)(function*(n,e,t,r,i={}){return hr(n,i,(0,o.Z)(function*(){let s={},a={};r&&("GET"===e?a=r:s={body:JSON.stringify(r)});const u=(0,l.xO)(Object.assign({key:n.config.apiKey},a)).slice(1),d=yield n._getAdditionalHeaders();return d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode),dr.fetch()(fr(n,n.config.apiHost,t,u),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function hr(n,e,t){return Be.apply(this,arguments)}function Be(){return(Be=(0,o.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Fi),e);try{const i=new Vi(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=yield s.json();if("needConfirmation"in a)throw oe(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[d,h]=u.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===d)throw oe(n,"credential-already-in-use",a);if("EMAIL_EXISTS"===d)throw oe(n,"email-already-in-use",a);if("USER_DISABLED"===d)throw oe(n,"user-disabled",a);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw ur(n,p,h);I(n,p)}}catch(i){if(i instanceof l.ZR)throw i;I(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function w(n,e,t,r){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,o.Z)(function*(n,e,t,r,i={}){const s=yield _(n,e,t,r,i);return"mfaPendingCredential"in s&&I(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function fr(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?qe(n.config,i):`${n.config.apiScheme}://${i}`}class Vi{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(T(this.auth,"network-request-failed")),Zi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oe(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=T(n,e,r);return i.customData._tokenResponse=t,i}function je(){return(je=(0,o.Z)(function*(n,e){return _(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Je(){return(Je=(0,o.Z)(function*(n,e){return _(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Ye(){return(Ye=(0,o.Z)(function*(n,e){return _(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ae(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Xe(){return(Xe=(0,o.Z)(function*(n,e=!1){const t=(0,l.m9)(n),r=yield t.getIdToken(e),i=Ee(r);c(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:ae(Qe(i.auth_time)),issuedAtTime:ae(Qe(i.iat)),expirationTime:ae(Qe(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Qe(n){return 1e3*Number(n)}function Ee(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Te("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,l.tV)(t);return i?JSON.parse(i):(Te("Failed to decode base64 JWT payload"),null)}catch(i){return Te("Caught error parsing JWT payload as JSON",i?.toString()),null}}function O(n,e){return et.apply(this,arguments)}function et(){return(et=(0,o.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof l.ZR&&function $i({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class Bi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,o.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,o.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class pr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ae(this.lastLoginAt),this.creationTime=ae(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ue(n){return tt.apply(this,arguments)}function tt(){return tt=(0,o.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield O(n,function Hi(n,e){return Ye.apply(this,arguments)}(t,{idToken:r}));c(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const a=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Ji(n){return n.map(e=>{var{providerId:t}=e,r=(0,We._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],u=function ji(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,a),p=!!n.isAnonymous&&!(n.email&&s.passwordHash||u?.length),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new pr(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,f)}),tt.apply(this,arguments)}function nt(){return(nt=(0,o.Z)(function*(n){const e=(0,l.m9)(n);yield ue(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function rt(){return(rt=(0,o.Z)(function*(n,e){const t=yield hr(n,{},(0,o.Z)(function*(){const r=(0,l.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=fr(n,i,"/v1/token",`key=${s}`),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",dr.fetch()(a,{method:"POST",headers:u,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class le{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){c(e.idToken,"internal-error"),c(typeof e.idToken<"u","internal-error"),c(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function qi(n){const e=Ee(n);return c(e,"internal-error"),c(typeof e.exp<"u","internal-error"),c(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,o.Z)(function*(){return c(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,o.Z)(function*(){const{accessToken:i,refreshToken:s,expiresIn:a}=yield function Yi(n,e){return rt.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(a))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new le;return r&&(c("string"==typeof r,"internal-error",{appName:e}),a.refreshToken=r),i&&(c("string"==typeof i,"internal-error",{appName:e}),a.accessToken=i),s&&(c("number"==typeof s,"internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new le,this.toJSON())}_performRefresh(){return b("not implemented")}}function U(n,e){c("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class V{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=(0,We._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pr(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,o.Z)(function*(){const r=yield O(t,t.stsTokenManager.getToken(t.auth,e));return c(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Gi(n){return Xe.apply(this,arguments)}(this,e)}reload(){return function Ki(n){return nt.apply(this,arguments)}(this)}_assign(e){this!==e&&(c(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new V(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){c(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,o.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield ue(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,o.Z)(function*(){const t=yield e.getIdToken();return yield O(e,function Wi(n,e){return je.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,a,u,d,h,p;const f=null!==(r=t.displayName)&&void 0!==r?r:void 0,v=null!==(i=t.email)&&void 0!==i?i:void 0,P=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,Ze=null!==(a=t.photoURL)&&void 0!==a?a:void 0,ki=null!==(u=t.tenantId)&&void 0!==u?u:void 0,er=null!==(d=t._redirectEventId)&&void 0!==d?d:void 0,Ai=null!==(h=t.createdAt)&&void 0!==h?h:void 0,Si=null!==(p=t.lastLoginAt)&&void 0!==p?p:void 0,{uid:tr,emailVerified:Pi,isAnonymous:bi,providerData:nr,stsTokenManager:Ni}=t;c(tr&&Ni,e,"internal-error");const wu=le.fromJSON(this.name,Ni);c("string"==typeof tr,e,"internal-error"),U(f,e.name),U(v,e.name),c("boolean"==typeof Pi,e,"internal-error"),c("boolean"==typeof bi,e,"internal-error"),U(P,e.name),U(Ze,e.name),U(ki,e.name),U(er,e.name),U(Ai,e.name),U(Si,e.name);const rr=new V({uid:tr,auth:e,email:v,emailVerified:Pi,displayName:f,isAnonymous:bi,photoURL:Ze,phoneNumber:P,tenantId:ki,stsTokenManager:wu,createdAt:Ai,lastLoginAt:Si});return nr&&Array.isArray(nr)&&(rr.providerData=nr.map(Ou=>Object.assign({},Ou))),er&&(rr._redirectEventId=er),rr}static _fromIdTokenResponse(e,t,r=!1){return(0,o.Z)(function*(){const i=new le;i.updateFromServerResponse(t);const s=new V({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ue(s),s})()}}const K=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,o.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,o.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,o.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function W(n,e,t){return`firebase:${n}:${e}:${t}`}class j{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=W(this.userKey,i.apiKey,s),this.fullPersistenceKey=W("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,o.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?V._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,o.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,o.Z)(function*(){if(!t.length)return new j(R(K),e,r);const i=(yield Promise.all(t.map(function(){var h=(0,o.Z)(function*(p){if(yield p._isAvailable())return p});return function(p){return h.apply(this,arguments)}}()))).filter(h=>h);let s=i[0]||R(K);const a=W(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const p=yield h._get(a);if(p){const f=V._fromJSON(e,p);h!==s&&(u=f),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return s._shouldAllowMigration&&d.length?(s=d[0],u&&(yield s._set(a,u.toJSON())),yield Promise.all(t.map(function(){var h=(0,o.Z)(function*(p){if(p!==s)try{yield p._remove(a)}catch{}});return function(p){return h.apply(this,arguments)}}())),new j(s,e,r)):new j(s,e,r)})()}}function mr(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vr(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_r(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ir(e))return"Blackberry";if(yr(e))return"Webos";if(it(e))return"Safari";if((e.includes("chrome/")||gr(e))&&!e.includes("edge/"))return"Chrome";if(ce(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function _r(n=(0,l.z$)()){return/firefox\//i.test(n)}function it(n=(0,l.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gr(n=(0,l.z$)()){return/crios\//i.test(n)}function vr(n=(0,l.z$)()){return/iemobile/i.test(n)}function ce(n=(0,l.z$)()){return/android/i.test(n)}function Ir(n=(0,l.z$)()){return/blackberry/i.test(n)}function yr(n=(0,l.z$)()){return/webos/i.test(n)}function J(n=(0,l.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Tr(n=(0,l.z$)()){return J(n)||ce(n)||yr(n)||Ir(n)||/windows phone/i.test(n)||vr(n)}function Er(n,e=[]){let t;switch(n){case"Browser":t=mr((0,l.z$)());break;case"Worker":t=`${mr((0,l.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${M.SDK_VERSION}/${r}`}class ns{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((a,u)=>{try{a(e(s))}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,o.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class rs{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rr(this),this.idTokenSubscription=new Rr(this),this.beforeStateQueue=new ns(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=or,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=R(t)),this._initializationPromise=this.queue((0,o.Z)(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield j.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,o.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,o.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const u=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,d=s?._redirectEventId,h=yield t.tryRedirectSignIn(e);(!u||u===d)&&h?.user&&(s=h.user,a=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{yield t.beforeStateQueue.runMiddleware(s)}catch(u){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(u))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return c(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return(0,o.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,o.Z)(function*(){try{yield ue(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Ui(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,o.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,o.Z)(function*(){const r=e?(0,l.m9)(e):null;return r&&c(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,o.Z)(function*(){if(!r._deleted)return e&&c(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,o.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,o.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,o.Z)(function*(){yield t.assertedPersistence.setPersistence(R(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new l.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,o.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,o.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&R(e)||t._popupRedirectResolver;c(r,t,"argument-error"),t.redirectPersistenceManager=yield j.create(t,[R(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,o.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,o.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,o.Z)(function*(){if(e===t.currentUser)return t.queue((0,o.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return c(a,this,"internal-error"),a.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,o.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return c(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Er(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,o.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function y(n){return(0,l.m9)(n)}class Rr{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,l.ne)(t=>this.observer=t)}get next(){return c(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ar(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Sr(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Y{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}function Pr(n,e){return st.apply(this,arguments)}function st(){return(st=(0,o.Z)(function*(n,e){return _(n,"POST","/v1/accounts:resetPassword",m(n,e))})).apply(this,arguments)}function br(n,e){return ot.apply(this,arguments)}function ot(){return(ot=(0,o.Z)(function*(n,e){return _(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function at(){return(at=(0,o.Z)(function*(n,e){return _(n,"POST","/v1/accounts:update",m(n,e))})).apply(this,arguments)}function ut(){return(ut=(0,o.Z)(function*(n,e){return w(n,"POST","/v1/accounts:signInWithPassword",m(n,e))})).apply(this,arguments)}function Re(n,e){return lt.apply(this,arguments)}function lt(){return(lt=(0,o.Z)(function*(n,e){return _(n,"POST","/v1/accounts:sendOobCode",m(n,e))})).apply(this,arguments)}function ct(){return(ct=(0,o.Z)(function*(n,e){return Re(n,e)})).apply(this,arguments)}function dt(){return(dt=(0,o.Z)(function*(n,e){return Re(n,e)})).apply(this,arguments)}function ht(){return(ht=(0,o.Z)(function*(n,e){return Re(n,e)})).apply(this,arguments)}function ft(){return(ft=(0,o.Z)(function*(n,e){return Re(n,e)})).apply(this,arguments)}function pt(){return(pt=(0,o.Z)(function*(n,e){return w(n,"POST","/v1/accounts:signInWithEmailLink",m(n,e))})).apply(this,arguments)}function mt(){return(mt=(0,o.Z)(function*(n,e){return w(n,"POST","/v1/accounts:signInWithEmailLink",m(n,e))})).apply(this,arguments)}class de extends Y{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new de(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new de(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,o.Z)(function*(){switch(t.signInMethod){case"password":return function as(n,e){return ut.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function hs(n,e){return pt.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:I(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,o.Z)(function*(){switch(r.signInMethod){case"password":return br(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function fs(n,e){return mt.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:I(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function C(n,e){return _t.apply(this,arguments)}function _t(){return(_t=(0,o.Z)(function*(n,e){return w(n,"POST","/v1/accounts:signInWithIdp",m(n,e))})).apply(this,arguments)}class N extends Y{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new N(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):I("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=(0,We._T)(t,["providerId","signInMethod"]);if(!r||!i)return null;const a=new N(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){return C(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,C(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,C(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,l.xO)(t)}return e}}function gt(){return(gt=(0,o.Z)(function*(n,e){return _(n,"POST","/v1/accounts:sendVerificationCode",m(n,e))})).apply(this,arguments)}function vt(){return(vt=(0,o.Z)(function*(n,e){return w(n,"POST","/v1/accounts:signInWithPhoneNumber",m(n,e))})).apply(this,arguments)}function It(){return(It=(0,o.Z)(function*(n,e){const t=yield w(n,"POST","/v1/accounts:signInWithPhoneNumber",m(n,e));if(t.temporaryProof)throw oe(n,"account-exists-with-different-credential",t);return t})).apply(this,arguments)}const vs={USER_NOT_FOUND:"user-not-found"};function yt(){return(yt=(0,o.Z)(function*(n,e){return w(n,"POST","/v1/accounts:signInWithPhoneNumber",m(n,Object.assign(Object.assign({},e),{operation:"REAUTH"})),vs)})).apply(this,arguments)}class z extends Y{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new z({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new z({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function _s(n,e){return vt.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function gs(n,e){return It.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function Is(n,e){return yt.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return r||t||i||s?new z({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}):null}}class he{constructor(e){var t,r,i,s,a,u;const d=(0,l.zd)((0,l.pd)(e)),h=null!==(t=d.apiKey)&&void 0!==t?t:null,p=null!==(r=d.oobCode)&&void 0!==r?r:null,f=function ys(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=d.mode)&&void 0!==i?i:null);c(h&&p&&f,"argument-error"),this.apiKey=h,this.operation=f,this.code=p,this.continueUrl=null!==(s=d.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(a=d.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(u=d.tenantId)&&void 0!==u?u:null}static parseLink(e){const t=function Ts(n){const e=(0,l.zd)((0,l.pd)(n)).link,t=e?(0,l.zd)((0,l.pd)(e)).deep_link_id:null,r=(0,l.zd)((0,l.pd)(n)).deep_link_id;return(r?(0,l.zd)((0,l.pd)(r)).link:null)||r||t||e||n}(e);try{return new he(t)}catch{return null}}}let Tt=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return de._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=he.parseLink(r);return c(i,"argument-error"),de._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class L{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class X extends L{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Q extends X{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return c("providerId"in t&&"signInMethod"in t,"argument-error"),N._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return c(e.idToken||e.accessToken,"argument-error"),N._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Q.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Q.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:u}=e;if(!r&&!i&&!t&&!s||!u)return null;try{return new Q(u)._credential({idToken:t,accessToken:r,nonce:a,pendingToken:s})}catch{return null}}}let Nr=(()=>{class n extends X{constructor(){super("facebook.com")}static credential(t){return N._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),wr=(()=>{class n extends X{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return N._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),Or=(()=>{class n extends X{constructor(){super("github.com")}static credential(t){return N._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class ee extends Y{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return C(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,C(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,C(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return r&&i&&s&&r===i?new ee(r,s):null}static _create(e,t){return new ee(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ke extends L{constructor(e){c(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return ke.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ke.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=ee.fromJSON(e);return c(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return ee._create(r,t)}catch{return null}}}let Cr=(()=>{class n extends X{constructor(){super("twitter.com")}static credential(t,r){return N._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:i}=t;if(!r||!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();function Lr(n,e){return Et.apply(this,arguments)}function Et(){return(Et=(0,o.Z)(function*(n,e){return w(n,"POST","/v1/accounts:signUp",m(n,e))})).apply(this,arguments)}class A{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,o.Z)(function*(){const s=yield V._fromIdTokenResponse(e,r,i),a=Dr(r);return new A({user:s,providerId:a,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,o.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=Dr(r);return new A({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function Dr(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function Rt(){return(Rt=(0,o.Z)(function*(n){var e;const t=y(n);if(yield t._initializationPromise,null!==(e=t.currentUser)&&void 0!==e&&e.isAnonymous)return new A({user:t.currentUser,providerId:null,operationType:"signIn"});const r=yield Lr(t,{returnSecureToken:!0}),i=yield A._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(i.user),i})).apply(this,arguments)}class Ae extends l.ZR{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ae.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Ae(e,t,r,i)}}function xr(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Ae._fromErrorAndOperation(n,s,e,r):s})}function Mr(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function kt(){return kt=(0,o.Z)(function*(n,e){const t=(0,l.m9)(n);yield Se(!0,t,e);const{providerUserInfo:r}=yield function zi(n,e){return Je.apply(this,arguments)}(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),i=Mr(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t}),kt.apply(this,arguments)}function At(n,e){return St.apply(this,arguments)}function St(){return(St=(0,o.Z)(function*(n,e,t=!1){const r=yield O(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return A._forOperation(n,"link",r)})).apply(this,arguments)}function Se(n,e,t){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,o.Z)(function*(n,e,t){yield ue(e);const i=!1===n?"provider-already-linked":"no-such-provider";c(Mr(e.providerData).has(t)===n,e.auth,i)})).apply(this,arguments)}function Ur(n,e){return bt.apply(this,arguments)}function bt(){return(bt=(0,o.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield O(n,xr(r,i,e,n),t);c(s.idToken,r,"internal-error");const a=Ee(s.idToken);c(a,r,"internal-error");const{sub:u}=a;return c(n.uid===u,r,"user-mismatch"),A._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&I(r,"user-mismatch"),s}})).apply(this,arguments)}function Fr(n,e){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,o.Z)(function*(n,e,t=!1){const r="signIn",i=yield xr(n,r,e),s=yield A._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Pe(n,e){return wt.apply(this,arguments)}function wt(){return(wt=(0,o.Z)(function*(n,e){return Fr(y(n),e)})).apply(this,arguments)}function Zr(n,e){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,o.Z)(function*(n,e){const t=(0,l.m9)(n);return yield Se(!1,t,e.providerId),At(t,e)})).apply(this,arguments)}function Vr(n,e){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,o.Z)(function*(n,e){return Ur((0,l.m9)(n),e)})).apply(this,arguments)}function Lt(){return(Lt=(0,o.Z)(function*(n,e){return w(n,"POST","/v1/accounts:signInWithCustomToken",m(n,e))})).apply(this,arguments)}function Dt(){return Dt=(0,o.Z)(function*(n,e){const t=y(n),r=yield function Ss(n,e){return Lt.apply(this,arguments)}(t,{token:e,returnSecureToken:!0}),i=yield A._fromIdTokenResponse(t,"signIn",r);return yield t._updateCurrentUser(i.user),i}),Dt.apply(this,arguments)}class fe{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?xt._fromServerResponse(e,t):"totpInfo"in t?Mt._fromServerResponse(e,t):I(e,"internal-error")}}class xt extends fe{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new xt(t)}}class Mt extends fe{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Mt(t)}}function be(n,e,t){var r;c((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),c(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(c(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(c(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function Ut(){return Ut=(0,o.Z)(function*(n,e,t){const r=(0,l.m9)(n),i={requestType:"PASSWORD_RESET",email:e};t&&be(r,i,t),yield function ls(n,e){return dt.apply(this,arguments)}(r,i)}),Ut.apply(this,arguments)}function Ft(){return(Ft=(0,o.Z)(function*(n,e,t){yield Pr((0,l.m9)(n),{oobCode:e,newPassword:t})})).apply(this,arguments)}function Zt(){return Zt=(0,o.Z)(function*(n,e){yield function os(n,e){return at.apply(this,arguments)}((0,l.m9)(n),{oobCode:e})}),Zt.apply(this,arguments)}function Wr(n,e){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,o.Z)(function*(n,e){const t=(0,l.m9)(n),r=yield Pr(t,{oobCode:e}),i=r.requestType;switch(c(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":c(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":c(r.mfaInfo,t,"internal-error");default:c(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=fe._fromServerResponse(y(t),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}})).apply(this,arguments)}function Wt(){return(Wt=(0,o.Z)(function*(n,e){const{data:t}=yield Wr((0,l.m9)(n),e);return t.email})).apply(this,arguments)}function zt(){return(zt=(0,o.Z)(function*(n,e,t){const r=y(n),i=yield Lr(r,{returnSecureToken:!0,email:e,password:t}),s=yield A._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function Ht(){return Ht=(0,o.Z)(function*(n,e,t){const r=(0,l.m9)(n),i={requestType:"EMAIL_SIGNIN",email:e};c(t.handleCodeInApp,r,"argument-error"),t&&be(r,i,t),yield function cs(n,e){return ht.apply(this,arguments)}(r,i)}),Ht.apply(this,arguments)}function Gt(){return(Gt=(0,o.Z)(function*(n,e,t){const r=(0,l.m9)(n),i=Tt.credentialWithLink(e,t||ie());return c(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Pe(r,i)})).apply(this,arguments)}function qt(){return(qt=(0,o.Z)(function*(n,e){return _(n,"POST","/v1/accounts:createAuthUri",m(n,e))})).apply(this,arguments)}function $t(){return $t=(0,o.Z)(function*(n,e){const r={identifier:e,continueUri:Ge()?ie():"http://localhost"},{signinMethods:i}=yield function Us(n,e){return qt.apply(this,arguments)}((0,l.m9)(n),r);return i||[]}),$t.apply(this,arguments)}function Bt(){return Bt=(0,o.Z)(function*(n,e){const t=(0,l.m9)(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&be(t.auth,i,e);const{email:s}=yield function us(n,e){return ct.apply(this,arguments)}(t.auth,i);s!==n.email&&(yield n.reload())}),Bt.apply(this,arguments)}function Kt(){return Kt=(0,o.Z)(function*(n,e,t){const r=(0,l.m9)(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&be(r.auth,s,t);const{email:a}=yield function ds(n,e){return ft.apply(this,arguments)}(r.auth,s);a!==n.email&&(yield n.reload())}),Kt.apply(this,arguments)}function jt(){return(jt=(0,o.Z)(function*(n,e){return _(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Jt(){return Jt=(0,o.Z)(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=(0,l.m9)(n),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},a=yield O(r,function Ws(n,e){return jt.apply(this,arguments)}(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const u=r.providerData.find(({providerId:d})=>"password"===d);u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),yield r._updateTokensIfNecessary(a)}),Jt.apply(this,arguments)}function zr(n,e,t){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,o.Z)(function*(n,e,t){const{auth:r}=n,s={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const a=yield O(n,br(r,s));yield n._updateTokensIfNecessary(a,!0)})).apply(this,arguments)}class te{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class Hr extends te{constructor(e,t,r,i){super(e,t,r),this.username=i}}class $s extends te{constructor(e,t){super(e,"facebook.com",t)}}class Bs extends Hr{constructor(e,t){super(e,"github.com",t,"string"==typeof t?.login?t?.login:null)}}class Ks extends te{constructor(e,t){super(e,"google.com",t)}}class js extends Hr{constructor(e,t,r){super(e,"twitter.com",t,r)}}function Js(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function qs(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!r&&n?.idToken){const a=null===(t=null===(e=Ee(n.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(a)return new te(s,"anonymous"!==a&&"custom"!==a?a:null)}if(!r)return null;switch(r){case"facebook.com":return new $s(s,i);case"github.com":return new Bs(s,i);case"google.com":return new Ks(s,i);case"twitter.com":return new js(s,i,n.screenName||null);case"custom":case"anonymous":return new te(s,null);default:return new te(s,r,i)}}(t)}class H{constructor(e,t,r){this.type=e,this.credential=t,this.auth=r}static _fromIdtoken(e,t){return new H("enroll",e,t)}static _fromMfaPendingCredential(e){return new H("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e?.multiFactorSession){if(null!==(t=e.multiFactorSession)&&void 0!==t&&t.pendingCredential)return H._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null!==(r=e.multiFactorSession)&&void 0!==r&&r.idToken)return H._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Qt{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=y(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(u=>fe._fromServerResponse(r,u));c(i.mfaPendingCredential,r,"internal-error");const a=H._fromMfaPendingCredential(i.mfaPendingCredential);return new Qt(a,s,function(){var u=(0,o.Z)(function*(d){const h=yield d._process(r,a);delete i.mfaInfo,delete i.mfaPendingCredential;const p=Object.assign(Object.assign({},i),{idToken:h.idToken,refreshToken:h.refreshToken});switch(t.operationType){case"signIn":const f=yield A._fromIdTokenResponse(r,t.operationType,p);return yield r._updateCurrentUser(f.user),f;case"reauthenticate":return c(t.user,r,"internal-error"),A._forOperation(t.user,t.operationType,p);default:I(r,"internal-error")}});return function(d){return u.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,o.Z)(function*(){return t.signInResolver(e)})()}}class en{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>fe._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new en(e)}getSession(){var e=this;return(0,o.Z)(function*(){return H._fromIdtoken(yield e.user.getIdToken(),e.user.auth)})()}enroll(e,t){var r=this;return(0,o.Z)(function*(){const i=e,s=yield r.getSession(),a=yield O(r.user,i._process(r.user.auth,s,t));return yield r.user._updateTokensIfNecessary(a),r.user.reload()})()}unenroll(e){var t=this;return(0,o.Z)(function*(){const r="string"==typeof e?e:e.uid,i=yield t.user.getIdToken();try{const s=yield O(t.user,function ro(n,e){return _(n,"POST","/v2/accounts/mfaEnrollment:withdraw",m(n,e))}(t.user.auth,{idToken:i,mfaEnrollmentId:r}));t.enrolledFactors=t.enrolledFactors.filter(({uid:a})=>a!==r),yield t.user._updateTokensIfNecessary(s),yield t.user.reload()}catch(s){throw s}})()}}const tn=new WeakMap,Ne="__sak";class Gr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ne,"1"),this.storage.removeItem(Ne),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const we=(()=>{class n extends Gr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function so(){const n=(0,l.z$)();return it(n)||J(n)}()&&function ts(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Tr(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((u,d,h)=>{this.notifyListeners(u,h)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const u=this.storage.getItem(i);if(t.newValue!==u)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const u=this.storage.getItem(i);!r&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);!function es(){return(0,l.w1)()&&10===document.documentMode}()||a===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return(0,o.Z)(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,o.Z)(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return(0,o.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),F=(()=>{class n extends Gr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let lo=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,o.Z)(function*(){const i=t,{eventId:s,eventType:a,data:u}=i.data,d=r.handlersMap[a];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(d).map(function(){var f=(0,o.Z)(function*(v){return v(i.origin,u)});return function(v){return f.apply(this,arguments)}}()),p=yield function uo(n){return Promise.all(n.map(function(){var e=(0,o.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(h);i.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function pe(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class co{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,o.Z)(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,h)=>{const p=pe("",20);s.port1.start();const f=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(v){const P=v;if(P.data.eventId===p)switch(P.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(P.data.response);break;default:clearTimeout(f),clearTimeout(a),h(new Error("invalid_response"))}}},i.handlers.add(u),s.port1.addEventListener("message",u.onMessage),i.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&i.removeMessageHandler(u)})})()}}function g(){return window}function nn(){return typeof g().WorkerGlobalScope<"u"&&"function"==typeof g().importScripts}function rn(){return(rn=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qr="firebaseLocalStorageDb",_o=1,Oe="firebaseLocalStorage",$r="fbase_key";class me{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ce(n,e){return n.transaction([Oe],e?"readwrite":"readonly").objectStore(Oe)}function sn(){const n=indexedDB.open(qr,_o);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Oe,{keyPath:$r})}catch(i){t(i)}}),n.addEventListener("success",(0,o.Z)(function*(){const r=n.result;r.objectStoreNames.contains(Oe)?e(r):(r.close(),yield function go(){const n=indexedDB.deleteDatabase(qr);return new me(n).toPromise()}(),e(yield sn()))}))})}function Br(n,e,t){return on.apply(this,arguments)}function on(){return(on=(0,o.Z)(function*(n,e,t){const r=Ce(n,!0).put({[$r]:e,value:t});return new me(r).toPromise()})).apply(this,arguments)}function an(){return(an=(0,o.Z)(function*(n,e){const t=Ce(n,!1).get(e),r=yield new me(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Kr(n,e){const t=Ce(n,!0).delete(e);return new me(t).toPromise()}const ne=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,o.Z)(function*(){return t.db||(t.db=yield sn()),t.db})()}_withRetries(t){var r=this;return(0,o.Z)(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,o.Z)(function*(){return nn()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,o.Z)(function*(){t.receiver=lo._getInstance(function mo(){return nn()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,o.Z)(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,o.Z)(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,o.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function fo(){return rn.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new co(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,o.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function po(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const t=yield sn();return yield Br(t,Ne,"1"),yield Kr(t,Ne),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,o.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,o.Z)(function*(){return i._withPendingWrite((0,o.Z)(function*(){return yield i._withRetries(s=>Br(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,o.Z)(function*(){const i=yield r._withRetries(s=>function vo(n,e){return an.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,o.Z)(function*(){return r._withPendingWrite((0,o.Z)(function*(){return yield r._withRetries(i=>Kr(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,o.Z)(function*(){const r=yield t._withRetries(a=>{const u=Ce(a,!1).getAll();return new me(u).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:a,value:u}of r)s.add(a),JSON.stringify(t.localCache[a])!==JSON.stringify(u)&&(t.notifyListeners(a,u),i.push(a));for(const a of Object.keys(t.localCache))t.localCache[a]&&!s.has(a)&&(t.notifyListeners(a,null),i.push(a));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function un(){return(un=(0,o.Z)(function*(n){return(yield _(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function jr(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=T("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function Ao(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function Jr(n){return`__${n}${Math.floor(1e6*Math.random())}`}const Le=1e12;class bo{constructor(e){this.auth=e,this.counter=Le,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new No(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||Le;null===(t=this._widgets.get(r))||void 0===t||t.delete(),this._widgets.delete(r)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Le))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,o.Z)(function*(){var r;return null===(r=t._widgets.get(e||Le))||void 0===r||r.execute(),""})()}}class No{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof e?document.getElementById(e):e;c(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wo(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ln=Jr("rcb"),Oo=new se(3e4,6e4);class Lo{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=g().grecaptcha)||void 0===e||!e.render)}load(e,t=""){return c(function Do(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(g().grecaptcha):new Promise((r,i)=>{const s=g().setTimeout(()=>{i(T(e,"network-request-failed"))},Oo.get());g()[ln]=()=>{g().clearTimeout(s),delete g()[ln];const u=g().grecaptcha;if(!u)return void i(T(e,"internal-error"));const d=u.render;u.render=(h,p)=>{const f=d(h,p);return this.counter++,f},this.hostLanguage=t,r(u)},jr(`https://www.google.com/recaptcha/api.js??${(0,l.xO)({onload:ln,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(s),i(T(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!(null===(t=g().grecaptcha)||void 0===t||!t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xo{load(e){return(0,o.Z)(function*(){return new bo(e)})()}clearedOneInstance(){}}const Yr="recaptcha",Mo={theme:"light",type:"image"};class Uo{constructor(e,t=Object.assign({},Mo),r){this.parameters=t,this.type=Yr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=y(r),this.isInvisible="invisible"===this.parameters.size,c(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof e?document.getElementById(e):e;c(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xo:new Lo,this.validateStartingState()}verify(){var e=this;return(0,o.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),r=e.getAssertedRecaptcha();return r.getResponse(t)||new Promise(s=>{const a=u=>{u&&(e.tokenChangeListeners.delete(a),s(u))};e.tokenChangeListeners.add(a),e.isInvisible&&r.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){c(!this.parameters.sitekey,this.auth,"argument-error"),c(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),c(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),"function"==typeof e)e(t);else if("string"==typeof e){const r=g()[e];"function"==typeof r&&r(t)}}}assertNotDestroyed(){c(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,o.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const r=document.createElement("div");t.appendChild(r),t=r}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,o.Z)(function*(){c(Ge()&&!nn(),e.auth,"internal-error"),yield function Fo(){let n=null;return new Promise(e=>{"complete"!==document.readyState?(n=()=>e(),window.addEventListener("load",n)):e()}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function ko(n){return un.apply(this,arguments)}(e.auth);c(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return c(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class cn{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=z._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function dn(){return(dn=(0,o.Z)(function*(n,e,t){const r=y(n),i=yield De(r,e,(0,l.m9)(t));return new cn(i,s=>Pe(r,s))})).apply(this,arguments)}function hn(){return(hn=(0,o.Z)(function*(n,e,t){const r=(0,l.m9)(n);yield Se(!1,r,"phone");const i=yield De(r.auth,e,(0,l.m9)(t));return new cn(i,s=>Zr(r,s))})).apply(this,arguments)}function fn(){return(fn=(0,o.Z)(function*(n,e,t){const r=(0,l.m9)(n),i=yield De(r.auth,e,(0,l.m9)(t));return new cn(i,s=>Vr(r,s))})).apply(this,arguments)}function De(n,e,t){return pn.apply(this,arguments)}function pn(){return pn=(0,o.Z)(function*(n,e,t){var r;const i=yield t.verify();try{let s;if(c("string"==typeof i,n,"argument-error"),c(t.type===Yr,n,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const a=s.session;if("phoneNumber"in s)return c("enroll"===a.type,n,"internal-error"),(yield function eo(n,e){return _(n,"POST","/v2/accounts/mfaEnrollment:start",m(n,e))}(n,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{c("signin"===a.type,n,"internal-error");const u=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return c(u,n,"missing-multi-factor-info"),(yield function To(n,e){return _(n,"POST","/v2/accounts/mfaSignIn:start",m(n,e))}(n,{mfaPendingCredential:a.credential,mfaEnrollmentId:u,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:a}=yield function ms(n,e){return gt.apply(this,arguments)}(n,{phoneNumber:s.phoneNumber,recaptchaToken:i});return a}}finally{t._reset()}}),pn.apply(this,arguments)}function mn(){return(mn=(0,o.Z)(function*(n,e){yield At((0,l.m9)(n),e)})).apply(this,arguments)}let _e=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=y(t)}verifyPhoneNumber(t,r){return De(this.auth,t,(0,l.m9)(r))}static credential(t,r){return z._fromVerification(t,r)}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:r,temporaryProof:i}=t;return r&&i?z._fromTokenResponse(r,i):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function G(n,e){return e?R(e):(c(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class _n extends Y{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return C(e,this._buildIdpRequest())}_linkToIdToken(e,t){return C(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return C(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ho(n){return Fr(n.auth,new _n(n),n.bypassAuthState)}function Go(n){const{auth:e,user:t}=n;return c(t,e,"internal-error"),Ur(t,new _n(n),n.bypassAuthState)}function qo(n){return gn.apply(this,arguments)}function gn(){return(gn=(0,o.Z)(function*(n){const{auth:e,user:t}=n;return c(t,e,"internal-error"),At(t,new _n(n),n.bypassAuthState)})).apply(this,arguments)}class Xr{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,o.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,o.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:a,error:u,type:d}=e;if(u)return void t.reject(u);const h={auth:t.auth,requestUri:r,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(d)(h))}catch(p){t.reject(p)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ho;case"linkViaPopup":case"linkViaRedirect":return qo;case"reauthViaPopup":case"reauthViaRedirect":return Go;default:I(this.auth,"internal-error")}}resolve(e){S(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){S(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $o=new se(2e3,1e4);function vn(){return(vn=(0,o.Z)(function*(n,e,t){const r=y(n);B(n,e,L);const i=G(r,t);return new Tn(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}function In(){return(In=(0,o.Z)(function*(n,e,t){const r=(0,l.m9)(n);B(r.auth,e,L);const i=G(r.auth,t);return new Tn(r.auth,"reauthViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}function yn(){return(yn=(0,o.Z)(function*(n,e,t){const r=(0,l.m9)(n);B(r.auth,e,L);const i=G(r.auth,t);return new Tn(r.auth,"linkViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}let Tn=(()=>{class n extends Xr{constructor(t,r,i,s,a){super(t,r,s,a),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return(0,o.Z)(function*(){const r=yield t.execute();return c(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return(0,o.Z)(function*(){S(1===t.filter.length,"Popup operations only handle one event");const r=pe();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(T(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(T(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(T(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,$o.get())};t()}}return n.currentPopupAction=null,n})();const Jo="pendingRedirect",ge=new Map;class Yo extends Xr{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,o.Z)(function*(){let r=ge.get(t.auth._key());if(!r){try{const s=(yield function Xo(n,e){return En.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}ge.set(t.auth._key(),r)}return t.bypassAuthState||ge.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,o.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function En(){return(En=(0,o.Z)(function*(n,e){const t=ei(e),r=Qr(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Rn(n,e){return kn.apply(this,arguments)}function kn(){return(kn=(0,o.Z)(function*(n,e){return Qr(n)._set(ei(e),"true")})).apply(this,arguments)}function An(n,e){ge.set(n._key(),e)}function Qr(n){return R(n._redirectPersistence)}function ei(n){return W(Jo,n.config.apiKey,n.name)}function ea(n,e,t){return function ta(n,e,t){return Sn.apply(this,arguments)}(n,e,t)}function Sn(){return(Sn=(0,o.Z)(function*(n,e,t){const r=y(n);B(n,e,L),yield r._initializationPromise;const i=G(r,t);return yield Rn(i,r),i._openRedirect(r,e,"signInViaRedirect")})).apply(this,arguments)}function na(n,e,t){return function ra(n,e,t){return Pn.apply(this,arguments)}(n,e,t)}function Pn(){return(Pn=(0,o.Z)(function*(n,e,t){const r=(0,l.m9)(n);B(r.auth,e,L),yield r.auth._initializationPromise;const i=G(r.auth,t);yield Rn(i,r.auth);const s=yield ti(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)})).apply(this,arguments)}function ia(n,e,t){return function sa(n,e,t){return bn.apply(this,arguments)}(n,e,t)}function bn(){return(bn=(0,o.Z)(function*(n,e,t){const r=(0,l.m9)(n);B(r.auth,e,L),yield r.auth._initializationPromise;const i=G(r.auth,t);yield Se(!1,r,e.providerId),yield Rn(i,r.auth);const s=yield ti(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)})).apply(this,arguments)}function Nn(){return(Nn=(0,o.Z)(function*(n,e){return yield y(n)._initializationPromise,xe(n,e,!1)})).apply(this,arguments)}function xe(n,e){return wn.apply(this,arguments)}function wn(){return(wn=(0,o.Z)(function*(n,e,t=!1){const r=y(n),i=G(r,e),a=yield new Yo(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})).apply(this,arguments)}function ti(n){return On.apply(this,arguments)}function On(){return(On=(0,o.Z)(function*(n){const e=pe(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e})).apply(this,arguments)}class ni{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function ua(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ii(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!ii(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(T(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ri(e))}saveEventToCache(e){this.cachedEventUids.add(ri(e)),this.lastProcessedEventTime=Date.now()}}function ri(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ii({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function si(n){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,o.Z)(function*(n,e={}){return _(n,"GET","/v1/projects",e)})).apply(this,arguments)}const la=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ca=/^https?/;function Ln(){return(Ln=(0,o.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield si(n);for(const t of e)try{if(ha(t))return}catch{}I(n,"unauthorized-domain")})).apply(this,arguments)}function ha(n){const e=ie(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return""===a.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&a.hostname===r}if(!ca.test(t))return!1;if(la.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const fa=new se(3e4,6e4);function oi(){const n=g().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Me=null;const _a=new se(5e3,15e3),ga="__/auth/iframe",va="emulator/auth/iframe",Ia={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ya=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ta(n){const e=n.config;c(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?qe(e,va):`https://${n.config.authDomain}/${ga}`,r={apiKey:e.apiKey,appName:n.name,v:M.SDK_VERSION},i=ya.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${(0,l.xO)(r).slice(1)}`}function Dn(){return Dn=(0,o.Z)(function*(n){const e=yield function ma(n){return Me=Me||function pa(n){return new Promise((e,t)=>{var r,i,s;function a(){oi(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oi(),t(T(n,"network-request-failed"))},timeout:fa.get()})}if(null!==(i=null===(r=g().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=g().gapi)||void 0===s||!s.load){const u=Jr("iframefcb");return g()[u]=()=>{gapi.load?a():t(T(n,"network-request-failed"))},jr(`https://apis.google.com/js/api.js?onload=${u}`).catch(d=>t(d))}a()}}).catch(e=>{throw Me=null,e})}(n),Me}(n),t=g().gapi;return c(t,n,"internal-error"),e.open({where:document.body,url:Ta(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ia,dontclear:!0},r=>new Promise(function(){var i=(0,o.Z)(function*(s,a){yield r.restyle({setHideOnLeave:!1});const u=T(n,"network-request-failed"),d=g().setTimeout(()=>{a(u)},_a.get());function h(){g().clearTimeout(d),s(r)}r.ping(h).then(h,()=>{a(u)})});return function(s,a){return i.apply(this,arguments)}}()))}),Dn.apply(this,arguments)}const Ra={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ka=500,Aa=600,Sa="_blank",Pa="http://localhost";class ai{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const wa="__/auth/handler",Oa="emulator/auth/handler";function xn(n,e,t,r,i,s){c(n.config.authDomain,n,"auth-domain-config-required"),c(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:M.SDK_VERSION,eventId:i};if(e instanceof L){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",(0,l.xb)(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))a[d]=h}if(e instanceof X){const d=e.getScopes().filter(h=>""!==h);d.length>0&&(a.scopes=d.join(","))}n.tenantId&&(a.tid=n.tenantId);const u=a;for(const d of Object.keys(u))void 0===u[d]&&delete u[d];return`${function Ca({config:n}){return n.emulator?qe(n,Oa):`https://${n.authDomain}/${wa}`}(n)}?${(0,l.xO)(u).slice(1)}`}const Mn="webStorageSupport",ui=class La{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F,this._completeRedirectFn=xe,this._overrideRedirectResult=An}_openPopup(e,t,r,i){var s=this;return(0,o.Z)(function*(){var a;S(null===(a=s.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");const u=xn(e,t,r,ie(),i);return function ba(n,e,t,r=ka,i=Aa){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},Ra),{width:r.toString(),height:i.toString(),top:s,left:a}),h=(0,l.z$)().toLowerCase();t&&(u=gr(h)?Sa:t),_r(h)&&(e=e||Pa,d.scrollbars="yes");const p=Object.entries(d).reduce((v,[P,Ze])=>`${v}${P}=${Ze},`,"");if(function Qi(n=(0,l.z$)()){var e;return J(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(h)&&"_self"!==u)return function Na(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",u),new ai(null);const f=window.open(e||"",u,p);c(f,n,"popup-blocked");try{f.focus()}catch{}return new ai(f)}(e,u,pe())})()}_openRedirect(e,t,r,i){var s=this;return(0,o.Z)(function*(){return yield s._originValidation(e),function ho(n){g().location.href=n}(xn(e,t,r,ie(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(S(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,o.Z)(function*(){const r=yield function Ea(n){return Dn.apply(this,arguments)}(e),i=new ni(e);return r.register("authEvent",s=>(c(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Mn,{type:Mn},i=>{var s;const a=null===(s=i?.[0])||void 0===s?void 0:s[Mn];void 0!==a&&t(!!a),I(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function da(n){return Ln.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Tr()||it()||J()}};class Da{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return b("unexpected MultiFactorSessionType")}}}class Un extends Da{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Un(e)}_finalizeEnroll(e,t,r){return function to(n,e){return _(n,"POST","/v2/accounts/mfaEnrollment:finalize",m(n,e))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function Eo(n,e){return _(n,"POST","/v2/accounts/mfaSignIn:finalize",m(n,e))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xa=(()=>{class n{constructor(){}static assertion(t){return Un._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var ci="@firebase/auth";class Ma{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,o.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){c(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function q(){return window}(0,l.Pz)("authIdTokenMaxAge"),function Fa(n){(0,M._registerComponent)(new ze.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:a}=r.options;return((u,d)=>{c(s&&!s.includes(":"),"invalid-api-key",{appName:u.name}),c(!a?.includes(":"),"argument-error",{appName:u.name});const h={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Er(n)},p=new rs(u,d,h);return function xi(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(R);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(p,t),p})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,M._registerComponent)(new ze.wA("auth-internal",e=>{const t=y(e.getProvider("auth").getImmediate());return new Ma(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,M.registerVersion)(ci,"0.22.0",function Ua(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,M.registerVersion)(ci,"0.22.0","esm2017")}("Browser");const za=2e3;function Zn(){return Zn=(0,o.Z)(function*(n,e,t){var r;const{BuildInfo:i}=q();S(e.sessionId,"AuthEvent did not contain a session ID");const s=yield function Ka(n){return zn.apply(this,arguments)}(e.sessionId),a={};return J()?a.ibi=i.packageName:ce()?a.apn=i.packageName:I(n,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=s,xn(n,t,e.type,void 0,null!==(r=e.eventId)&&void 0!==r?r:void 0,a)}),Zn.apply(this,arguments)}function Vn(){return(Vn=(0,o.Z)(function*(n){const{BuildInfo:e}=q(),t={};J()?t.iosBundleId=e.packageName:ce()?t.androidPackageName=e.packageName:I(n,"operation-not-supported-in-this-environment"),yield si(n,t)})).apply(this,arguments)}function Wn(){return(Wn=(0,o.Z)(function*(n,e,t){const{cordova:r}=q();let i=()=>{};try{yield new Promise((s,a)=>{let u=null;function d(){var f;s();const v=null===(f=r.plugins.browsertab)||void 0===f?void 0:f.close;"function"==typeof v&&v(),"function"==typeof t?.close&&t.close()}function h(){u||(u=window.setTimeout(()=>{a(T(n,"redirect-cancelled-by-user"))},za))}function p(){"visible"===document?.visibilityState&&h()}e.addPassiveListener(d),document.addEventListener("resume",h,!1),ce()&&document.addEventListener("visibilitychange",p,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",p,!1),u&&window.clearTimeout(u)}})}finally{i()}})).apply(this,arguments)}function zn(){return(zn=(0,o.Z)(function*(n){const e=function ja(n){if(S(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}(n),t=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ja=20;class Ya extends ni{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,o.Z)(function*(){yield e.initPromise})()}}function fi(n){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,o.Z)(function*(n){const e=yield Gn()._get(qn(n));return e&&(yield Gn()._remove(qn(n))),e})).apply(this,arguments)}function tu(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<Ja;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function Gn(){return R(we)}function qn(n){return W("authEvent",n.config.apiKey,n.name)}function Fe(n){if(!n?.includes("?"))return{};const[e,...t]=n.split("?");return(0,l.zd)(t.join("?"))}const ou=class su{constructor(){this._redirectPersistence=F,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xe,this._overrideRedirectResult=An}_initialize(e){var t=this;return(0,o.Z)(function*(){const r=e._key();let i=t.eventManagers.get(r);return i||(i=new Ya(e),t.eventManagers.set(r,i),t.attachCallbackListeners(e,i)),i})()}_openPopup(e){I(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,r,i){var s=this;return(0,o.Z)(function*(){!function Ba(n){var e,t,r,i,s,a,u,d,h,p;const f=q();c("function"==typeof(null===(e=f?.universalLinks)||void 0===e?void 0:e.subscribe),n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),c(typeof(null===(t=f?.BuildInfo)||void 0===t?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),c("function"==typeof(null===(s=null===(i=null===(r=f?.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),c("function"==typeof(null===(d=null===(u=null===(a=f?.cordova)||void 0===a?void 0:a.plugins)||void 0===u?void 0:u.browsertab)||void 0===d?void 0:d.isAvailable),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),c("function"==typeof(null===(p=null===(h=f?.cordova)||void 0===h?void 0:h.InAppBrowser)||void 0===p?void 0:p.open),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const a=yield s._initialize(e);yield a.initialized(),a.resetRedirect(),function Qo(){ge.clear()}(),yield s._originValidation(e);const u=function Xa(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:tu(),postBody:null,tenantId:n.tenantId,error:T(n,"no-auth-event")}}(e,r,i);yield function Qa(n,e){return Gn()._set(qn(n),e)}(e,u);const d=yield function Ha(n,e,t){return Zn.apply(this,arguments)}(e,u,t),h=yield function qa(n){const{cordova:e}=q();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,function Xi(n=(0,l.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}()?"_blank":"_system","location=yes"),t(i)})})}(d);return function $a(n,e,t){return Wn.apply(this,arguments)}(e,a,h)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Ga(n){return Vn.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=q(),a=setTimeout((0,o.Z)(function*(){yield fi(e),t.onEvent(pi())}),500),u=function(){var p=(0,o.Z)(function*(f){clearTimeout(a);const v=yield fi(e);let P=null;v&&f?.url&&(P=function eu(n,e){var t,r;const i=function ru(n){const e=Fe(n),t=e.link?decodeURIComponent(e.link):void 0,r=Fe(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Fe(i).link||i||r||t||n}(e);if(i.includes("/__/auth/callback")){const s=Fe(i),a=s.firebaseError?function nu(n){try{return JSON.parse(n)}catch{return null}}(decodeURIComponent(s.firebaseError)):null,u=null===(r=null===(t=a?.code)||void 0===t?void 0:t.split("auth/"))||void 0===r?void 0:r[1],d=u?T(u):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}(v,f.url)),t.onEvent(P||pi())});return function(v){return p.apply(this,arguments)}}();typeof r<"u"&&"function"==typeof r.subscribe&&r.subscribe(null,u);const d=i,h=`${s.packageName.toLowerCase()}://`;q().handleOpenURL=function(){var p=(0,o.Z)(function*(f){if(f.toLowerCase().startsWith(h)&&u({url:f}),"function"==typeof d)try{d(f)}catch(v){console.error(v)}});return function(f){return p.apply(this,arguments)}}()}};function pi(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:T("no-auth-event")}}const cu=1e3;function ve(){var n;return(null===(n=self?.location)||void 0===n?void 0:n.protocol)||null}function mi(n=(0,l.z$)()){return!("file:"!==ve()&&"ionic:"!==ve()&&"capacitor:"!==ve()||!n.toLowerCase().match(/iphone|ipad|ipod|android/))}function _i(){try{const n=self.localStorage,e=pe();if(n)return n.setItem(e,"1"),n.removeItem(e),!function mu(n=(0,l.z$)()){return function fu(){return(0,l.w1)()&&11===document?.documentMode}()||function pu(n=(0,l.z$)()){return/Edge\/\d+/.test(n)}(n)}()||(0,l.hl)()}catch{return $n()&&(0,l.hl)()}return!1}function $n(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bn(){return(function du(){return"http:"===ve()||"https:"===ve()}()||(0,l.ru)()||mi())&&!function hu(){return(0,l.b$)()||(0,l.UG)()}()&&_i()&&!$n()}function gi(){return mi()&&typeof document<"u"}function Kn(){return(Kn=(0,o.Z)(function*(){return!!gi()&&new Promise(n=>{const e=setTimeout(()=>{n(!1)},cu);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})})})).apply(this,arguments)}const k={LOCAL:"local",NONE:"none",SESSION:"session"},Ie=c,vi="persistence";function jn(n){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,o.Z)(function*(n){yield n._initializationPromise;const e=Ii(),t=W(vi,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())})).apply(this,arguments)}function Ii(){var n;try{return(null===(n=function gu(){return typeof window<"u"?window:null}())||void 0===n?void 0:n.sessionStorage)||null}catch{return null}}const yu=c;class Z{constructor(){this.browserResolver=R(ui),this.cordovaResolver=R(ou),this.underlyingResolver=null,this._redirectPersistence=F,this._completeRedirectFn=xe,this._overrideRedirectResult=An}_initialize(e){var t=this;return(0,o.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,r,i){var s=this;return(0,o.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,r,i)})()}_openRedirect(e,t,r,i){var s=this;return(0,o.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,r,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return gi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,o.Z)(function*(){if(e.underlyingResolver)return;const t=yield function _u(){return Kn.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function yi(n){return n.unwrap()}function Eu(n){return Ti(n)}function Ti(n){const{_tokenResponse:e}=n instanceof l.ZR?n.customData:n;if(!e)return null;if(!(n instanceof l.ZR)&&"temporaryProof"in e&&"phoneNumber"in e)return _e.credentialFromResult(n);const t=e.providerId;if(!t||t===re.PASSWORD)return null;let r;switch(t){case re.GOOGLE:r=wr;break;case re.FACEBOOK:r=Nr;break;case re.GITHUB:r=Or;break;case re.TWITTER:r=Cr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:u,nonce:d}=e;return s||a||i||u?u?t.startsWith("saml.")?ee._create(t,u):N._fromParams({providerId:t,signInMethod:t,pendingToken:u,idToken:i,accessToken:s}):new Q(t).credential({idToken:i,accessToken:s,rawNonce:d}):null}return n instanceof l.ZR?r.credentialFromError(n):r.credentialFromResult(n)}function E(n,e){return e.catch(t=>{throw t instanceof l.ZR&&function Ru(n,e){var t;const r=null===(t=e.customData)||void 0===t?void 0:t._tokenResponse;if("auth/multi-factor-auth-required"===e?.code)e.resolver=new ku(n,function Qs(n,e){var t;const r=(0,l.m9)(n),i=e;return c(e.customData.operationType,r,"argument-error"),c(null===(t=i.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,r,"argument-error"),Qt._fromError(r,i)}(n,e));else if(r){const i=Ti(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}(n,t),t}).then(t=>{const i=t.user;return{operationType:t.operationType,credential:Eu(t),additionalUserInfo:Js(t),user:D.getOrCreate(i)}})}function Yn(n,e){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,o.Z)(function*(n,e){const t=yield e;return{verificationId:t.verificationId,confirm:r=>E(n,t.confirm(r))}})).apply(this,arguments)}class ku{constructor(e,t){this.resolver=t,this.auth=function Tu(n){return n.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return E(yi(this.auth),this.resolver.resolveSignIn(e))}}class D{constructor(e){this._delegate=e,this.multiFactor=function io(n){const e=(0,l.m9)(n);return tn.has(e)||tn.set(e,en._fromUser(e)),tn.get(e)}(e)}static getOrCreate(e){return D.USER_MAP.has(e)||D.USER_MAP.set(e,new D(e)),D.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,o.Z)(function*(){return E(t.auth,Zr(t._delegate,e))})()}linkWithPhoneNumber(e,t){var r=this;return(0,o.Z)(function*(){return Yn(r.auth,function Vo(n,e,t){return hn.apply(this,arguments)}(r._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,o.Z)(function*(){return E(t.auth,function jo(n,e,t){return yn.apply(this,arguments)}(t._delegate,e,Z))})()}linkWithRedirect(e){var t=this;return(0,o.Z)(function*(){return yield jn(y(t.auth)),ia(t._delegate,e,Z)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,o.Z)(function*(){return E(t.auth,Vr(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return Yn(this.auth,function Wo(n,e,t){return fn.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return E(this.auth,function Ko(n,e,t){return In.apply(this,arguments)}(this._delegate,e,Z))}reauthenticateWithRedirect(e){var t=this;return(0,o.Z)(function*(){return yield jn(y(t.auth)),na(t._delegate,e,Z)})()}sendEmailVerification(e){return function Zs(n,e){return Bt.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,o.Z)(function*(){return yield function As(n,e){return kt.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function Hs(n,e){return zr((0,l.m9)(n),e,null)}(this._delegate,e)}updatePassword(e){return function Gs(n,e){return zr((0,l.m9)(n),null,e)}(this._delegate,e)}updatePhoneNumber(e){return function zo(n,e){return mn.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function zs(n,e){return Jt.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function Vs(n,e,t){return Kt.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}D.USER_MAP=new WeakMap;const ye=c;let Ei=(()=>{class n{constructor(t,r){if(this.app=t,r.isInitialized())return this._delegate=r.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:i}=t.options;ye(i,"invalid-api-key",{appName:t.name}),ye(i,"invalid-api-key",{appName:t.name});const s=typeof window<"u"?Z:void 0;this._delegate=r.initialize({options:{persistence:Au(i,t.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(Ci),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?D.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,r){!function kr(n,e,t){const r=y(n);c(r._canInitEmulator,r,"emulator-config-failed"),c(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=Ar(e),{host:a,port:u}=function is(n){const e=Ar(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Sr(r.substr(s.length+1))}}{const[s,a]=r.split(":");return{host:s,port:Sr(a)}}}(e);r.config.emulator={url:`${s}//${a}${null===u?"":`:${u}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function ss(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(this._delegate,t,r)}applyActionCode(t){return function ws(n,e){return Zt.apply(this,arguments)}(this._delegate,t)}checkActionCode(t){return Wr(this._delegate,t)}confirmPasswordReset(t,r){return function Ns(n,e,t){return Ft.apply(this,arguments)}(this._delegate,t,r)}createUserWithEmailAndPassword(t,r){var i=this;return(0,o.Z)(function*(){return E(i._delegate,function Cs(n,e,t){return zt.apply(this,arguments)}(i._delegate,t,r))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return function Fs(n,e){return $t.apply(this,arguments)}(this._delegate,t)}isSignInWithEmailLink(t){return function xs(n,e){return"EMAIL_SIGNIN"===he.parseLink(e)?.operation}(0,t)}getRedirectResult(){var t=this;return(0,o.Z)(function*(){ye(Bn(),t._delegate,"operation-not-supported-in-this-environment");const r=yield function oa(n,e){return Nn.apply(this,arguments)}(t._delegate,Z);return r?E(t._delegate,Promise.resolve(r)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function au(n,e){y(n)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,r,i){const{next:s,error:a,complete:u}=Ri(t,r,i);return this._delegate.onAuthStateChanged(s,a,u)}onIdTokenChanged(t,r,i){const{next:s,error:a,complete:u}=Ri(t,r,i);return this._delegate.onIdTokenChanged(s,a,u)}sendSignInLinkToEmail(t,r){return function Ds(n,e,t){return Ht.apply(this,arguments)}(this._delegate,t,r)}sendPasswordResetEmail(t,r){return function bs(n,e,t){return Ut.apply(this,arguments)}(this._delegate,t,r||void 0)}setPersistence(t){var r=this;return(0,o.Z)(function*(){let i;switch(function vu(n,e){Ie(Object.values(k).includes(e),n,"invalid-persistence-type"),(0,l.b$)()?Ie(e!==k.SESSION,n,"unsupported-persistence-type"):(0,l.UG)()?Ie(e===k.NONE,n,"unsupported-persistence-type"):$n()?Ie(e===k.NONE||e===k.LOCAL&&(0,l.hl)(),n,"unsupported-persistence-type"):Ie(e===k.NONE||_i(),n,"unsupported-persistence-type")}(r._delegate,t),t){case k.SESSION:i=F;break;case k.LOCAL:i=(yield R(ne)._isAvailable())?ne:we;break;case k.NONE:i=K;break;default:return I("argument-error",{appName:r._delegate.name})}return r._delegate.setPersistence(i)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return E(this._delegate,function ks(n){return Rt.apply(this,arguments)}(this._delegate))}signInWithCredential(t){return E(this._delegate,Pe(this._delegate,t))}signInWithCustomToken(t){return E(this._delegate,function Ps(n,e){return Dt.apply(this,arguments)}(this._delegate,t))}signInWithEmailAndPassword(t,r){return E(this._delegate,function Ls(n,e,t){return Pe((0,l.m9)(n),Tt.credential(e,t))}(this._delegate,t,r))}signInWithEmailLink(t,r){return E(this._delegate,function Ms(n,e,t){return Gt.apply(this,arguments)}(this._delegate,t,r))}signInWithPhoneNumber(t,r){return Yn(this._delegate,function Zo(n,e,t){return dn.apply(this,arguments)}(this._delegate,t,r))}signInWithPopup(t){var r=this;return(0,o.Z)(function*(){return ye(Bn(),r._delegate,"operation-not-supported-in-this-environment"),E(r._delegate,function Bo(n,e,t){return vn.apply(this,arguments)}(r._delegate,t,Z))})()}signInWithRedirect(t){var r=this;return(0,o.Z)(function*(){return ye(Bn(),r._delegate,"operation-not-supported-in-this-environment"),yield jn(r._delegate),ea(r._delegate,t,Z)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return function Os(n,e){return Wt.apply(this,arguments)}(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=k,n})();function Ri(n,e,t){let r=n;"function"!=typeof n&&({next:r,error:e,complete:t}=n);const i=r;return{next:a=>i(a&&D.getOrCreate(a)),error:e,complete:t}}function Au(n,e){const t=function Iu(n,e){const t=Ii();if(!t)return[];const r=W(vi,n,e);switch(t.getItem(r)){case k.NONE:return[K];case k.LOCAL:return[ne,F];case k.SESSION:return[F];default:return[]}}(n,e);if(typeof self<"u"&&!t.includes(ne)&&t.push(ne),typeof window<"u")for(const r of[we,F])t.includes(r)||t.push(r);return t.includes(K)||t.push(K),t}class Qn{constructor(){this.providerId="phone",this._delegate=new _e(yi(Ve.Z.auth()))}static credential(e,t){return _e.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Qn.PHONE_SIGN_IN_METHOD=_e.PHONE_SIGN_IN_METHOD,Qn.PROVIDER_ID=_e.PROVIDER_ID;const Su=c;class Pu{constructor(e,t,r=Ve.Z.app()){var i;Su(null===(i=r.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Uo(e,t,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Nu(n){n.INTERNAL.registerComponent(new ze.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Ei(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$_EMAIL_SIGNIN,PASSWORD_RESET:$_PASSWORD_RESET,RECOVER_EMAIL:$_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:$_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:$_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:$_VERIFY_EMAIL}},EmailAuthProvider:Tt,FacebookAuthProvider:Nr,GithubAuthProvider:Or,GoogleAuthProvider:wr,OAuthProvider:Q,SAMLAuthProvider:ke,PhoneAuthProvider:Qn,PhoneMultiFactorGenerator:xa,RecaptchaVerifier:Pu,TwitterAuthProvider:Cr,Auth:Ei,AuthCredential:Y,Error:l.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion("@firebase/auth-compat","0.3.7")}(Ve.Z)}}]);